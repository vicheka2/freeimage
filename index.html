<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NY VICHEKA | Free Background Images Gallery</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Add SweetAlert2 CDN -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    :root {
      --primary: #6366f1;
      --accent: #06b6d4;
      --header-gradient: linear-gradient(96deg, #6366f1 0%, #06b6d4 100%);
      --header-glow: 0 0 32px 4px #6366f122, 0 2px 24px #06b6d422;
      --bg: #f5f7fa;
      --card-bg: #fff;
      --text: #23272f;
      --muted: #64748b;
      --shadow: 0 4px 32px 0 rgba(60,72,148,0.07);
      --radius: 1.3rem;
      --transition: .18s cubic-bezier(.35,1.1,.57,1.05);
      --success: #22c55e;
      --success-light: #bbf7d0;
      --copy-btn-bg: #fff;
      --copy-btn-bg-hover: #22c55e;
      --copy-btn-color: #22c55e;
      --copy-btn-color-hover: #fff;
      --copy-btn-border: #22c55e;
      --copy-btn-shadow: 0 2px 8px #22c55e44;
      --bgmsg: #22c55e;
      --bgmsg-text: #fff;
      /* Dark mode variables */
      --bg-dark: #1f252e;
      --card-bg-dark: #2d3748;
      --text-dark: #e2e8f0;
      --muted-dark: #94a3b8;
      --shadow-dark: 0 4px 32px 0 rgba(0,0,0,0.3);
      --header-gradient-dark: linear-gradient(96deg, #4b5cfa 0%, #0d93a8 100%);
      --header-glow-dark: 0 0 32px 4px #4b5cfa33, 0 2px 24px #0d93a833;
      --copy-btn-bg-dark: #4b5563;
      --copy-btn-border-dark: #22c55e;
      --border-dark: #4b5563;
    }
    html, body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      font-family: 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(120deg, #e0e7ff 0%, #f0fdfa 100%);
      color: var(--text);
      transition: background-image 0.7s ease-in-out, opacity 0.7s ease-in-out, background-color 0.7s ease-in-out, color 0.7s ease-in-out;
    }
    body.dark-mode {
      background: var(--bg-dark);
      color: var(--text-dark);
    }
    body.preview-transition {
      opacity: 0.6;
    }
    body.preview-complete {
      opacity: 1;
    }
    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      background: var(--bg);
      position: relative;
    }
    body.dark-mode {
      background: var(--bg-dark);
    }
    header {
      background: var(--header-gradient);
      color: white;
      padding: 2.7rem 1rem 2.2rem 1rem;
      text-align: center;
      border-radius: 0 0 2.7rem 2.7rem;
      box-shadow: var(--header-glow);
      margin-bottom: 2.3rem;
      position: relative;
      overflow: hidden;
      z-index: 10;
      transition: padding 0.7s ease-in-out, border-radius 0.7s ease-in-out;
      width: 100%;
      box-sizing: border-box;
    }
    body.dark-mode header {
      background: var(--header-gradient-dark);
      box-shadow: var(--header-glow-dark);
      color: #ffffff;
    }
    header.preview-mode {
      padding: 1.2rem 1rem 1rem 1rem;
      border-radius: 0 0 1.5rem 1.5rem;
    }
    .header-logo {
      display: inline-block;
      font-size: 2.5rem;
      font-weight: 900;
      letter-spacing: .09em;
      color: #fff;
      background: linear-gradient(90deg, #fff 10%, #a5b4fc 60%, #5eead4 90%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      filter: drop-shadow(0 6px 20px #06b6d499);
      margin-bottom: 0.25em;
      animation: glow 2.8s ease-in-out infinite alternate;
      line-height: 1;
      transition: font-size 0.7s ease-in-out;
    }
    body.dark-mode .header-logo {
      background: linear-gradient(90deg, #e2e8f0 10%, #a5b4fc 60%, #5eead4 90%);
      filter: drop-shadow(0 6px 20px #0d93a899);
      -webkit-text-fill-color: #ffffff;
    }
    header.preview-mode .header-logo {
      font-size: 1.8rem;
    }
    @keyframes glow {
      0% { filter: drop-shadow(0 0 10px #06b6d488); }
      100% { filter: drop-shadow(0 0 24px #6366f177); }
    }
    body.dark-mode .header-logo {
      animation: glow-dark 2.8s ease-in-out infinite alternate;
    }
    @keyframes glow-dark {
      0% { filter: drop-shadow(0 0 10px #0d93a888); }
      100% { filter: drop-shadow(0 0 24px #4b5cfa77); }
    }
    .header-title {
      margin: 0 0 .28rem 0;
      font-size: 2.85rem;
      font-weight: 900;
      letter-spacing: .025em;
      line-height: 1.09;
      color: #fff;
      text-shadow: 0 2px 10px #06b6d433, 0 6px 20px #6366f155;
      transition: font-size 0.7s ease-in-out;
    }
    body.dark-mode .header-title {
      color: #ffffff;
      text-shadow: 0 2px 10px #0d93a833, 0 6px 20px #4b5cfa55;
    }
    header.preview-mode .header-title {
      font-size: 2rem;
    }
    .header-subtitle {
      font-size: 1.28rem;
      font-weight: 700;
      letter-spacing: .04em;
      color: #e0f2fe;
      opacity: .99;
      margin-bottom: 0.45em;
      text-shadow: 0 1px 8px #6366f166;
      transition: font-size 0.7s ease-in-out;
    }
    body.dark-mode .header-subtitle {
      color: #d1d5db;
      text-shadow: 0 1px 8px #4b5cfa66;
    }
    header.preview-mode .header-subtitle {
      font-size: 0.95rem;
    }
    .dark-mode-toggle {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: #ffffff;
      border: 1.5px solid var(--primary);
      border-radius: 0.4rem;
      padding: 0.3rem;
      font-size: 0.95rem;
      cursor: pointer;
      transition: background 0.2s, border-color 0.2s;
      z-index: 11;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .dark-mode-toggle:hover {
      background: var(--primary);
      border-color: var(--primary);
    }
    body.dark-mode .dark-mode-toggle {
      background: var(--copy-btn-bg-dark);
      border-color: #e2e8f0;
    }
    body.dark-mode .dark-mode-toggle:hover {
      background: #e2e8f0;
      border-color: #e2e8f0;
    }
    .dark-mode-toggle svg {
      width: 20px;
      height: 20px;
      fill: var(--primary);
      transition: fill 0.2s;
    }
    body.dark-mode .dark-mode-toggle svg {
      fill: #e2e8f0;
    }
    .dark-mode-toggle:hover svg {
      fill: #ffffff;
    }
    .background-check {
      position: absolute;
      top: 1rem;
      right: 4rem;
      background: #ffffff;
      border: 1.5px solid var(--primary);
      border-radius: 0.4rem;
      padding: 0.3rem;
      font-size: 0.95rem;
      cursor: pointer;
      transition: background 0.2s, border-color 0.2s;
      z-index: 11;
      width: 32px;
      height: 32px;
      display: none;
      align-items: center;
      justify-content: center;
    }
    .background-check:hover {
      background: var(--primary);
      border-color: var(--primary);
    }
    body.dark-mode .background-check {
      background: var(--copy-btn-bg-dark);
      border-color: #e2e8f0;
    }
    body.dark-mode .background-check:hover {
      background: #e2e8f0;
      border-color: #e2e8f0;
    }
    .background-check svg {
      width: 20px;
      height: 20px;
      fill: var(--primary);
      transition: fill 0.2s;
    }
    body.dark-mode .background-check svg {
      fill: #e2e8f0;
    }
    .background-check:hover svg {
      fill: #ffffff;
    }
    header.preview-mode .background-check {
      display: flex;
    }
    .dark-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 9;
    }
    .dark-overlay.active {
      display: block;
    }
    @media (max-width: 700px) {
      .header-logo { font-size: 1.5rem; }
      .header-title { font-size: 1.5rem; }
      .header-subtitle { font-size: 1rem; }
      header { padding-bottom: 1.1rem; }
      header.preview-mode .header-logo { font-size: 1.2rem; }
      header.preview-mode .header-title { font-size: 1.2rem; }
      header.preview-mode .header-subtitle { font-size: 0.8rem; }
      .dark-mode-toggle { 
        top: 0.8rem; 
        right: 0.8rem; 
        padding: 0.25rem;
        width: 28px;
        height: 28px;
      }
      .dark-mode-toggle svg { width: 18px; height: 18px; }
      .background-check {
        top: 0.8rem;
        right: 3.5rem;
        padding: 0.25rem;
        width: 28px;
        height: 28px;
      }
      .background-check svg { width: 18px; height: 18px; }
    }
    @media (max-width: 440px) {
      .header-title { font-size: 1.08rem; }
      .header-logo { font-size: 1.1rem; }
      header.preview-mode .header-title { font-size: 0.9rem; }
      header.preview-mode .header-logo { font-size: 0.9rem; }
      header.preview-mode .header-subtitle { font-size: 0.7rem; }
      header.preview-mode { padding: 0.8rem 0.6rem 0.6rem 0.6rem; }
      .dark-mode-toggle { 
        top: 0.6rem; 
        right: 0.6rem; 
        padding: 0.2rem;
        width: 24px;
        height: 24px;
      }
      .dark-mode-toggle svg { width: 16px; height: 16px; }
      .background-check {
        top: 0.6rem;
        right: 3rem;
        padding: 0.2rem;
        width: 24px;
        height: 24px;
      }
      .background-check svg { width: 16px; height: 16px; }
    }
    main {
      flex: 1 1 auto;
      width: 100%;
      position: relative;
      z-index: 10;
    }
    .gallery {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 2.2rem;
      padding: 1rem 2vw 2.8rem 2vw;
      max-width: 1240px;
      margin: 0 auto;
    }
    .card {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      transition: transform var(--transition), box-shadow var(--transition);
      border: 1.5px solid #e0e7ef;
      opacity: 0;
      transform: scale(0.8) rotate(5deg);
      filter: blur(4px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out, filter 0.8s ease-out, box-shadow 0.8s ease-out;
    }
    body.dark-mode .card {
      background: var(--card-bg-dark);
      border-color: var(--border-dark);
      box-shadow: var(--shadow-dark);
    }
    .card.visible {
      opacity: 1;
      transform: scale(1) rotate(0deg);
      filter: blur(0);
      box-shadow: 0 8px 36px rgba(99,102,241,0.17), 0 0 20px rgba(99,102,241,0.1);
    }
    body.dark-mode .card.visible {
      box-shadow: 0 8px 36px rgba(0,0,0,0.4), 0 0 20px rgba(0,0,0,0.2);
    }
    .card:hover {
      transform: translateY(-8px) scale(1.027);
      box-shadow: 0 8px 36px rgba(99,102,241,0.17);
      border-color: var(--primary);
    }
    body.dark-mode .card:hover {
      box-shadow: 0 8px 36px rgba(99,102,241,0.3);
      border-color: var(--primary);
    }
    .card.preview-active {
      animation: pulse 1.5s ease-in-out infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1) rotate(0deg); box-shadow: 0 8px 36px rgba(99,102,241,0.17), 0 0 20px rgba(99,102,241,0.1); }
      50% { transform: scale(1.05) rotate(0deg); box-shadow: 0 12px 48px rgba(99,102,241,0.25), 0 0 30px rgba(99,102,241,0.2); }
      100% { transform: scale(1) rotate(0deg); box-shadow: 0 8px 36px rgba(99,102,241,0.17), 0 0 20px rgba(99,102,241,0.1); }
    }
    body.dark-mode .card.preview-active {
      animation: pulse-dark 1.5s ease-in-out infinite;
    }
    @keyframes pulse-dark {
      0% { transform: scale(1) rotate(0deg); box-shadow: 0 8px 36px rgba(99,102,241,0.3), 0 0 20px rgba(99,102,241,0.2); }
      50% { transform: scale(1.05) rotate(0deg); box-shadow: 0 12px 48px rgba(99,102,241,0.4), 0 0 30px rgba(99,102,241,0.3); }
      100% { transform: scale(1) rotate(0deg); box-shadow: 0 8px 36px rgba(99,102,241,0.3), 0 0 20px rgba(99,102,241,0.2); }
    }
    .card img {
      width: 100%;
      height: 190px;
      object-fit: cover;
      background: #f3f4f6;
      display: block;
    }
    body.dark-mode .card img {
      background: #4b5563;
    }
    .card-details {
      padding: 1.3rem 1rem;
      flex: 1 1 auto;
      display: flex;
      flex-direction: column;
      gap: 1.1rem;
      position: relative;
    }
    .img-link-row {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      background: #f8fafc;
      border-radius: 0.8rem;
      padding: 0.55rem 0.7rem;
      margin-bottom: 0.3rem;
      font-size: 1.06rem;
      position: relative;
      border: 1.2px solid #e0e7ef;
      overflow: hidden;
    }
    body.dark-mode .img-link-row {
      background: #374151;
      border-color: var(--border-dark);
    }
    .img-link-row input {
      flex: 1 1 0px;
      min-width: 0;
      max-width: 60%;
      border: none;
      background: transparent;
      font-size: 1em;
      color: #374151;
      outline: none;
      padding: 0.2em 0;
      margin: 0;
      user-select: all;
      border-radius: 0.4em;
      transition: background 0.13s;
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
    }
    body.dark-mode .img-link-row input {
      color: #e2e8f0;
    }
    .img-link-row input:focus {
      background: #eef2ff;
    }
    body.dark-mode .img-link-row input:focus {
      background: #4b5563;
    }
    .img-link-row button {
      display: flex;
      align-items: center;
      gap: 0.35em;
      padding: 0.15rem 0.7rem;
      background: var(--copy-btn-bg);
      color: var(--copy-btn-color);
      border: 1.5px solid var(--copy-btn-border);
      border-radius: 0.4rem;
      cursor: pointer;
      font-size: 0.96em;
      font-weight: 600;
      box-shadow: var(--copy-btn-shadow);
      transition: background 0.15s, color 0.15s, border 0.15s, transform 0.13s, box-shadow 0.13s;
      outline: none;
      min-width: 60px;
      min-height: 28px;
    }
    body.dark-mode .img-link-row button {
      background: var(--copy-btn-bg-dark);
      border-color: var(--copy-btn-border-dark);
    }
    .img-link-row button .copy-icon {
      display: inline-block;
      font-size: 1em;
      margin-right: 0.01em;
      vertical-align: middle;
    }
    .img-link-row button:hover,
    .img-link-row button:focus {
      background: var(--copy-btn-bg-hover);
      color: var(--copy-btn-color-hover);
      border: 1.5px solid var(--copy-btn-bg-hover);
      transform: translateY(-1px) scale(1.03);
      box-shadow: 0 5px 14px #22c55e44;
      outline: none;
    }
    body.dark-mode .img-link-row button:hover,
    body.dark-mode .img-link-row button:focus {
      background: var(--copy-btn-bg-hover);
      color: var(--copy-btn-color-hover);
      border: 1.5px solid var(--copy-btn-bg-hover);
    }
    .simple-message {
      display: none;
      position: fixed;
      left: 50%;
      top: 30px;
      transform: translateX(-50%);
      background: var(--bgmsg);
      color: var(--bgmsg-text);
      padding: 0.83em 1.5em;
      font-size: 1.08em;
      border-radius: 1em;
      box-shadow: 0 4px 32px #22c55e44;
      z-index: 9999;
      opacity: 0.96;
      font-weight: 600;
      transition: opacity 0.25s;
      pointer-events: none;
    }
    .simple-message.show {
      display: block;
      animation: fadeOutMsg 1.7s forwards;
    }
    @keyframes fadeOutMsg {
      0% { opacity: 0.96;}
      70% { opacity: 0.96;}
      100% { opacity: 0; }
    }
    .bg-preview {
      border-radius: 0.7rem;
      margin-top: 0.6rem;
      height: 40px;
      background-size: cover;
      background-position: center;
      border: 1.5px solid #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #222;
      opacity: .92;
      cursor: pointer;
      position: relative;
      transition: box-shadow var(--transition), border-color .14s;
      background-color: #f3f4f6;
      font-weight: 600;
      letter-spacing: 0.02em;
      font-size: 0.98rem;
      overflow: hidden;
    }
    body.dark-mode .bg-preview {
      border-color: var(--border-dark);
      color: #e2e8f0;
      background-color: #4b5563;
    }
    .bg-preview:hover {
      box-shadow: 0 0 0 2.5px var(--primary);
      border-color: var(--primary);
      color: var(--primary);
      background-color: #f0fdfa;
    }
    body.dark-mode .bg-preview:hover {
      background-color: #374151;
    }
    .card-details .img-desc {display: none;}
    .coming-soon {
      height: 190px;
      width: 100%;
      background: repeating-linear-gradient(
        135deg,
        #e0e7ff 0px,
        #f0fdfa 70px,
        #e0e7ff 140px
      );
      color: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.52rem;
      font-weight: 700;
      opacity: 0.72;
      letter-spacing: .06em;
    }
    body.dark-mode .coming-soon {
      background: repeating-linear-gradient(
        135deg,
        #2d3748 0px,
        #4b5563 70px,
        #2d3748 140px
      );
      color: var(--primary);
    }
    .pagination {
      display: flex;
      justify-content: center;
      gap: 1.2rem;
      margin: 1.5rem 0 0.5rem 0;
      user-select: none;
      flex-wrap: wrap;
    }
    .pagination button {
      background: #6366f1;
      color: white;
      border: none;
      border-radius: 0.5rem;
      padding: 0.55rem 1.5rem;
      font-size: 1.07rem;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.16s;
      box-shadow: 0 2px 8px #6366f122;
    }
    body.dark-mode .pagination button {
      background: #4b5cfa;
      box-shadow: 0 2px 8px #4b5cfa33;
    }
    .pagination button:disabled {
      background: #dbeafe;
      color: #a5b4fc;
      cursor: not-allowed;
    }
    body.dark-mode .pagination button:disabled {
      background: #4b5563;
      color: #6b7280;
    }
    .pagination .page-btn {
      background: #e0e7ff;
      color: #6366f1;
      border-radius: 0.4rem;
      padding: 0.45em 1em;
      margin: 0 0.07em;
      font-size: 1em;
      border: none;
      font-weight: 600;
      transition: background .13s, color .13s;
      cursor: pointer;
    }
    body.dark-mode .pagination .page-btn {
      background: #4b5563;
      color: #e2e8f0;
    }
    .pagination .page-btn.current,
    .pagination .page-btn:hover {
      background: #6366f1;
      color: #fff;
    }
    body.dark-mode .pagination .page-btn.current,
    body.dark-mode .pagination .page-btn:hover {
      background: #4b5cfa;
      color: #e2e8f0;
    }
    @media (max-width: 1200px) {
      .gallery { grid-template-columns: repeat(3, 1fr);}
    }
    @media (max-width: 900px) {
      .gallery { grid-template-columns: repeat(2, 1fr);}
    }
    @media (max-width: 600px) {
      .gallery { grid-template-columns: 1fr;}
    }
    @media (max-width: 800px) {
      .gallery { gap: 1.1rem; padding: 1.3rem 0.7rem 2.1rem 0.7rem; }
      .card-details { padding: 0.9rem 0.8rem 1.2rem 0.8rem; }
      .header-logo { font-size: 1.38rem; }
      .header-title { font-size: 1.3rem; }
      header { padding-bottom: 1.2rem; }
      .simple-message { top: 16px; font-size: 0.95em; }
    }
    @media (max-width: 500px) {
      header { padding-bottom: 0.9rem; }
      .gallery { gap: 0.65rem; }
      .card-details { padding: 0.55rem 0.5rem 0.8rem 0.5rem; }
      header h1 { font-size: 1.33rem; }
      .coming-soon { font-size: 1.05rem; }
    }
    footer {
      text-align: center;
      color: #a5b4fc;
      font-size: 1rem;
      padding: 2.6rem 0 1.6rem 0;
      background: none;
      font-weight: 500;
      letter-spacing: .04em;
      opacity: .97;
    }
    body.dark-mode footer {
      color: #94a3b8;
    }
    .card.hidden {
      display: none;
    }
    /* Custom SweetAlert2 styling for smaller size */
    .swal2-custom {
      font-size: 0.9rem !important;
      padding: 0.5rem 1rem !important;
      width: auto !important;
      min-width: 150px !important;
    }
    .swal2-custom .swal2-icon {
      font-size: 0.8rem !important;
      margin: 0.5rem auto !important;
    }
    .swal2-custom .swal2-title,
    .swal2-custom .swal2-content {
      font-size: 0.9rem !important;
    }
    .download-btn {
      display: flex;
      align-items: center;
      gap: 0.35em;
      padding: 0.15rem 0.7rem;
      background: var(--copy-btn-bg);
      color: var(--copy-btn-color);
      border: 1.5px solid var(--copy-btn-border);
      border-radius: 0.4rem;
      cursor: pointer;
      font-size: 0.96em;
      font-weight: 600;
      box-shadow: var(--copy-btn-shadow);
      transition: background 0.15s, color 0.15s, border 0.15s, transform 0.13s, box-shadow 0.13s;
      outline: none;
      min-width: 60px;
      min-height: 28px;
      margin-left: 0.5rem;
    }
    body.dark-mode .download-btn {
      background: var(--copy-btn-bg-dark);
      border-color: var(--copy-btn-border-dark);
    }
    .download-btn:hover,
    .download-btn:focus {
      background: var(--copy-btn-bg-hover);
      color: var(--copy-btn-color-hover);
      border: 1.5px solid var(--copy-btn-bg-hover);
      transform: translateY(-1px) scale(1.03);
      box-shadow: 0 5px 14px #22c55e44;
      outline: none;
    }
    body.dark-mode .download-btn:hover,
    body.dark-mode .download-btn:focus {
      background: var(--copy-btn-bg-hover);
      color: var(--copy-btn-color-hover);
      border: 1.5px solid var(--copy-btn-bg-hover);
    }
    .download-btn .download-icon {
      display: inline-block;
      font-size: 1em;
      margin-right: 0.01em;
      vertical-align: middle;
    }
  </style>
</head>
<body>
  <header>
    <button class="dark-mode-toggle" id="darkModeToggle">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
      </svg>
    </button>
    <button class="background-check" id="backgroundCheck">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
        <circle cx="12" cy="12" r="3"></circle>
      </svg>
    </button>
    <div class="header-logo">NY VICHEKA</div>
    <div class="header-title">Free Background Image Gallery</div>
    <div class="header-subtitle">All images are free for your website and creative projects.</div>
  </header>
  <div class="dark-overlay" id="darkOverlay"></div>
  <main>
    <div class="gallery" id="gallery"></div>
    <nav class="pagination" id="pagination"></nav>
    <div id="simple-message" class="simple-message"></div>
  </main>
  <footer>
    © 2025 NY VICHEKA | Free Background Gallery. Use and share freely!
  </footer>
  <script>
    const baseRepoURL = "https://vicheka2.github.io/freeimage";
    const IMAGES_TOTAL = 1000;
    const IMAGES_PER_PAGE = 20;

    const images = [];
    for (let i = 1; i <= IMAGES_TOTAL; i++) {
      images.push({
        url: `${baseRepoURL}/images/img${i}.png`,
        filename: `img${i}.png`,
        idx: i
      });
    }

    let currentPage = 1;
    const totalPages = Math.ceil(images.length / IMAGES_PER_PAGE);
    let previewMode = false;
    let currentPreviewCard = null;
    let darkOverlayActive = false;

    // Dark mode toggle functionality
    const darkModeToggle = document.getElementById('darkModeToggle');
    const backgroundCheck = document.getElementById('backgroundCheck');
    const darkOverlay = document.getElementById('darkOverlay');
    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      const isDarkMode = document.body.classList.contains('dark-mode');
      localStorage.setItem('darkMode', isDarkMode);
    }
    darkModeToggle.addEventListener('click', toggleDarkMode);

    // Background check functionality
    backgroundCheck.addEventListener('click', () => {
      darkOverlayActive = !darkOverlayActive;
      darkOverlay.classList.toggle('active', darkOverlayActive);
      showSimpleMessage(darkOverlayActive ? "Dark overlay applied!" : "Dark overlay removed!", true);
    });

    // Apply saved dark mode preference
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
    }

    function renderGalleryPage(page) {
      const gallery = document.getElementById('gallery');
      gallery.innerHTML = '';
      const startIdx = (page - 1) * IMAGES_PER_PAGE;
      const endIdx = Math.min(startIdx + IMAGES_PER_PAGE, images.length);

      for (let i = startIdx; i < endIdx; i++) {
        const card = createCard(images[i], i);
        if (previewMode && card !== currentPreviewCard) {
          card.classList.add('hidden');
        }
        gallery.appendChild(card);
      }
      renderPagination(page);
      observeCards();
    }

    function renderPagination(page) {
      const pagination = document.getElementById('pagination');
      pagination.innerHTML = '';

      const prevBtn = document.createElement('button');
      prevBtn.textContent = 'Previous';
      prevBtn.disabled = page === 1;
      prevBtn.onclick = () => {
        if (currentPage > 1) {
          currentPage--;
          resetPreviewMode();
          renderGalleryPage(currentPage);
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }
      };
      pagination.appendChild(prevBtn);

      let pagesToShow = [];
      if (totalPages <= 7) {
        for (let i = 1; i <= totalPages; ++i) pagesToShow.push(i);
      } else {
        if (page <= 4) {
          pagesToShow = [1,2,3,4,5,'...',totalPages];
        } else if (page >= totalPages - 3) {
          pagesToShow = [1,'...',totalPages-4,totalPages-3,totalPages-2,totalPages-1,totalPages];
        } else {
          pagesToShow = [1,'...',page-1,page,page+1,'...',totalPages];
        }
      }
      for (let p of pagesToShow) {
        if (p === '...') {
          const el = document.createElement('span');
          el.textContent = '...';
          el.style.margin = '0 0.2em';
          el.style.color = document.body.classList.contains('dark-mode') ? '#6b7280' : '#b4b4b4';
          pagination.appendChild(el);
        } else {
          const btn = document.createElement('button');
          btn.className = 'page-btn' + (p === page ? ' current' : '');
          btn.textContent = p;
          btn.disabled = p === page;
          btn.onclick = () => {
            currentPage = p;
            resetPreviewMode();
            renderGalleryPage(currentPage);
            window.scrollTo({ top: 0, behavior: 'smooth' });
          };
          pagination.appendChild(btn);
        }
      }

      const nextBtn = document.createElement('button');
      nextBtn.textContent = 'Next';
      nextBtn.disabled = page === totalPages;
      nextBtn.onclick = () => {
        if (currentPage < totalPages) {
          currentPage++;
          resetPreviewMode();
          renderGalleryPage(currentPage);
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }
      };
      pagination.appendChild(nextBtn);
    }

    function showSimpleMessage(text, isGreen) {
      Swal.fire({
        text: text,
        icon: 'success',
        position: 'top',
        toast: true,
        showConfirmButton: false,
        timer: 1200,
        timerProgressBar: true,
        background: '#22c55e',
        color: '#fff',
        customClass: {
          popup: 'swal2-custom'
        }
      });
    }

    function resetPreviewMode() {
      previewMode = false;
      currentPreviewCard = null;
      darkOverlayActive = false;
      darkOverlay.classList.remove('active');
      const header = document.querySelector('header');
      header.classList.remove('preview-mode');
      document.body.classList.add('preview-transition');
      document.body.style.backgroundImage = document.body.classList.contains('dark-mode') ?
        'linear-gradient(120deg, #2d3748 0%, #4b5563 100%)' :
        'linear-gradient(120deg, #e0e7ff 0%, #f0fdfa 100%)';
      document.body.style.backgroundSize = 'auto';
      document.body.style.backgroundPosition = 'initial';
      document.body.style.backgroundRepeat = 'initial';
      setTimeout(() => {
        document.body.classList.remove('preview-transition');
        document.body.classList.add('preview-complete');
      }, 700);
    }

    function createCard(img, idx) {
      const card = document.createElement('div');
      card.className = 'card';

      const image = document.createElement('img');
      image.src = img.url;
      image.alt = `Image ${img.idx}`;
      let imageLoaded = false;

      image.onerror = function() {
        if (!imageLoaded) {
          card.innerHTML = '';
          const comingSoonDiv = document.createElement('div');
          comingSoonDiv.className = 'coming-soon';
          comingSoonDiv.innerText = "Coming Soon";
          card.appendChild(comingSoonDiv);
          const details = document.createElement('div');
          details.className = 'card-details';
          card.appendChild(details);
        }
      };
      image.onload = function() {
        imageLoaded = true;
      };

      const details = document.createElement('div');
      details.className = 'card-details';

      const linkRow = document.createElement('div');
      linkRow.className = 'img-link-row';

      const input = document.createElement('input');
      input.type = 'text';
      input.value = img.url;
      input.readOnly = true;
      input.onclick = function() { this.select(); };

      const btn = document.createElement('button');
      btn.innerHTML = '<span class="copy-icon" aria-hidden="true">' +
        '<svg width="1.1em" height="1.1em" viewBox="0 0 20 20" fill="none" style="vertical-align:middle;" xmlns="http://www.w3.org/2000/svg">' +
        '<rect x="5" y="3" width="10" height="14" rx="2.5" stroke="currentColor" stroke-width="1.5" fill="none"/>' +
        '<rect x="7" y="5" width="6" height="10" rx="1.2" fill="currentColor" fill-opacity=".22"/>' +
        '</svg>' +
        '</span><span style="padding-left:0.13em;">Copy</span>';
      btn.onclick = () => {
        copyText(img.url, btn, input, linkRow);
      };

      const downloadBtn = document.createElement('button');
      downloadBtn.className = 'download-btn';
      downloadBtn.innerHTML = '<span class="download-icon" aria-hidden="true">' +
        '<svg width="1.1em" height="1.1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">' +
        '<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>' +
        '</svg>' +
        '</span><span style="padding-left:0.13em;">Download</span>';
      downloadBtn.onclick = () => {
        downloadImage(img.url, img.filename);
      };

      linkRow.appendChild(input);
      linkRow.appendChild(btn);
      linkRow.appendChild(downloadBtn);

      const bgPrev = document.createElement('div');
      bgPrev.className = 'bg-preview';
      bgPrev.style.backgroundImage = `url('${img.url}')`;
      bgPrev.innerText = previewMode && card === currentPreviewCard ? "Reset background" : "Preview background";
      bgPrev.title = previewMode && card === currentPreviewCard ? "Click to reset to default view" : "Click to preview this image only and set as background";
      bgPrev.onclick = function() {
        const header = document.querySelector('header');
        if (previewMode && card === currentPreviewCard) {
          resetPreviewMode();
          renderGalleryPage(currentPage);
          showSimpleMessage("Background reset!", true);
        } else {
          previewMode = true;
          currentPreviewCard = card;
          header.classList.add('preview-mode');
          document.body.classList.add('preview-transition');
          document.body.style.backgroundImage = `url('${img.url}')`;
          document.body.style.backgroundSize = "cover";
          document.body.style.backgroundPosition = "center";
          document.body.style.backgroundRepeat = "no-repeat";
          const allCards = document.querySelectorAll('.card');
          allCards.forEach(c => {
            if (c !== card) {
              c.classList.add('hidden');
            } else {
              c.classList.remove('hidden');
              c.classList.add('preview-active');
            }
          });
          setTimeout(() => {
            document.body.classList.remove('preview-transition');
            document.body.classList.add('preview-complete');
          }, 700);
          showSimpleMessage("Background applied!", true);
        }
      };

      details.appendChild(linkRow);
      details.appendChild(bgPrev);

      card.appendChild(image);
      card.appendChild(details);

      return card;
    }

    function copyText(text, btn, inputElem, linkRow) {
      if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(text).then(() => {
          showSimpleMessage("Copied!", true);
        }, () => {
          fallbackCopy(text, btn, inputElem, linkRow);
        });
      } else {
        fallbackCopy(text, btn, inputElem, linkRow);
      }
    }

    function fallbackCopy(text, btn, inputElem, linkRow) {
      inputElem.select();
      try {
        const successful = document.execCommand('copy');
        if (successful) {
          showSimpleMessage("Copied!", true);
        } else {
          Swal.fire({
            text: "Copy failed. Please copy manually.",
            icon: 'error',
            position: 'top',
            toast: true,
            showConfirmButton: false,
            timer: 1200,
            timerProgressBar: true,
            background: '#ef4444',
            color: '#fff',
            customClass: {
              popup: 'swal2-custom'
            }
          });
        }
      } catch (err) {
        Swal.fire({
          text: "Copy failed. Please copy manually.",
          icon: 'error',
          position: 'top',
          toast: true,
          showConfirmButton: false,
          timer: 1200,
          timerProgressBar: true,
          background: '#ef4444',
          color: '#fff',
          customClass: {
            popup: 'swal2-custom'
          }
        });
      }
    }

    function downloadImage(url, filename) {
      fetch(url)
        .then(response => response.blob())
        .then(blob => {
          const link = document.createElement('a');
          link.href = URL.createObjectURL(blob);
          link.download = filename;
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
          URL.revokeObjectURL(link.href); // Clean up
          showSimpleMessage("Download started!", true);
        })
        .catch(() => {
          Swal.fire({
            text: "Download failed. Please try again or save manually.",
            icon: 'error',
            position: 'top',
            toast: true,
            showConfirmButton: false,
            timer: 1200,
            timerProgressBar: true,
            background: '#ef4444',
            color: '#fff',
            customClass: {
              popup: 'swal2-custom'
            }
          });
        });
    }

    // Intersection Observer for scroll animations with stagger
    function observeCards() {
      const cards = document.querySelectorAll('.card');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
          if (entry.isIntersecting) {
            const delay = index * 100;
            entry.target.style.transitionDelay = `${delay}ms`;
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '50px'
      });

      cards.forEach(card => {
        if (!card.classList.contains('hidden')) {
          observer.observe(card);
        }
      });
    }

    renderGalleryPage(currentPage);
  </script>
</body>
</html>